"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[491],{471:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"ros2-basics/intro","title":"Introduction to ROS 2 - The Robotic Nervous System","description":"The Robot Operating System 2 (ROS 2) serves as the nervous system for robotic applications, providing a framework for writing robot software. Unlike a traditional operating system, ROS 2 is a collection of tools, libraries, and conventions that aim to simplify the development of complex robotic applications by providing hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more.","source":"@site/docs/02-ros2-basics/intro.md","sourceDirName":"02-ros2-basics","slug":"/ros2-basics/intro","permalink":"/docs/ros2-basics/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/shaheryarshah/Hackthon_SpecKitPlus/edit/main/docs/docs/02-ros2-basics/intro.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Sensors and Physical Perception","permalink":"/docs/physical-ai/sensors-perception"},"next":{"title":"ROS 2 Nodes, Topics, Services, and Actions","permalink":"/docs/ros2-basics/nodes-topics"}}');var r=n(4848),t=n(8453);const o={},l="Introduction to ROS 2 - The Robotic Nervous System",c={},a=[{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Message Passing",id:"topics-and-message-passing",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Equations and Models",id:"equations-and-models",level:2},{value:"Code Example: Basic Publisher/Subscriber",id:"code-example-basic-publishersubscriber",level:2},{value:"Simulation Demonstration",id:"simulation-demonstration",level:2},{value:"Hands-On Lab: Creating a ROS 2 Publisher/Subscriber System",id:"hands-on-lab-creating-a-ros-2-publishersubscriber-system",level:2},{value:"Required Equipment:",id:"required-equipment",level:3},{value:"Instructions:",id:"instructions",level:3},{value:"Common Pitfalls &amp; Debugging Notes",id:"common-pitfalls--debugging-notes",level:2},{value:"Summary &amp; Key Terms",id:"summary--key-terms",level:2},{value:"Further Reading &amp; Citations",id:"further-reading--citations",level:2},{value:"Assessment Questions",id:"assessment-questions",level:2}];function d(e){const s={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"introduction-to-ros-2---the-robotic-nervous-system",children:"Introduction to ROS 2 - The Robotic Nervous System"})}),"\n",(0,r.jsx)(s.p,{children:"The Robot Operating System 2 (ROS 2) serves as the nervous system for robotic applications, providing a framework for writing robot software. Unlike a traditional operating system, ROS 2 is a collection of tools, libraries, and conventions that aim to simplify the development of complex robotic applications by providing hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more."}),"\n",(0,r.jsx)(s.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,r.jsx)(s.p,{children:"After completing this chapter, you should be able to:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Explain the purpose and architecture of ROS 2"}),"\n",(0,r.jsx)(s.li,{children:"Create and run basic ROS 2 nodes"}),"\n",(0,r.jsx)(s.li,{children:"Understand the communication mechanisms: topics, services, and actions"}),"\n",(0,r.jsx)(s.li,{children:"Implement publisher-subscriber communication patterns"}),"\n",(0,r.jsx)(s.li,{children:"Use ROS 2 tools for introspection and debugging"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(s.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(s.p,{children:"A node is a process that performs computation. ROS 2 is designed with a distributed architecture where computation is decomposed into nodes that are distributed among different devices. Nodes can be thought of as mini-programs that work together to perform complex robotic tasks."}),"\n",(0,r.jsx)(s.h3,{id:"topics-and-message-passing",children:"Topics and Message Passing"}),"\n",(0,r.jsx)(s.p,{children:"Topics enable asynchronous communication between nodes through a publish-subscribe model. A node publishes messages to a topic, and any number of other nodes can subscribe to that topic to receive the messages. This decouples the publisher and subscriber both in time and space, allowing for flexible and modular robotic applications."}),"\n",(0,r.jsx)(s.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(s.p,{children:"Services enable synchronous request-response communication between nodes. A client sends a request to a service server, which then processes the request and returns a response. This is useful for operations that require a definite result before proceeding."}),"\n",(0,r.jsx)(s.h3,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(s.p,{children:"Actions are designed for long-running tasks that may take a significant amount of time to complete. They provide feedback during execution and allow for goal preemption. Actions are ideal for navigation tasks, trajectory execution, or any process where you need to know the progress of the task."}),"\n",(0,r.jsx)(s.h2,{id:"equations-and-models",children:"Equations and Models"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 communication can be modeled as:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"Publisher(p_i) \u2192 Topic(t_j) \u2192 Subscriber(s_k)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Where:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"p_i"})," is the i-th publisher"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"t_j"})," is the j-th topic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"s_k"})," is the k-th subscriber"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"The message passing is governed by the quality of service (QoS) policies which determine reliability, durability, and other communication characteristics."}),"\n",(0,r.jsx)(s.h2,{id:"code-example-basic-publishersubscriber",children:"Code Example: Basic Publisher/Subscriber"}),"\n",(0,r.jsx)(s.p,{children:"Here's an example of a simple publisher and subscriber in ROS 2 using Python:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# publisher_member_function.py\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    \n    try:\n        rclpy.spin(minimal_publisher)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        minimal_publisher.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# subscriber_member_function.py\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    \n    try:\n        rclpy.spin(minimal_subscriber)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        minimal_subscriber.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"simulation-demonstration",children:"Simulation Demonstration"}),"\n",(0,r.jsx)(s.p,{children:"These nodes can be run in a ROS 2 environment (like with a simulated robot) to demonstrate the publish-subscribe pattern. The publisher will send messages to the topic at regular intervals, and the subscriber will receive and log these messages."}),"\n",(0,r.jsx)(s.h2,{id:"hands-on-lab-creating-a-ros-2-publishersubscriber-system",children:"Hands-On Lab: Creating a ROS 2 Publisher/Subscriber System"}),"\n",(0,r.jsx)(s.p,{children:"In this lab, you'll create and run your own publisher/subscriber system:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Create a new ROS 2 package"}),"\n",(0,r.jsx)(s.li,{children:"Implement the publisher and subscriber nodes"}),"\n",(0,r.jsx)(s.li,{children:"Run the nodes and observe the communication"}),"\n",(0,r.jsx)(s.li,{children:"Modify the message content and timing"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"required-equipment",children:"Required Equipment:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"ROS 2 Humble environment"}),"\n",(0,r.jsx)(s.li,{children:"Python development environment"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"instructions",children:"Instructions:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Create a new ROS 2 package: ",(0,r.jsx)(s.code,{children:"ros2 pkg create --build-type ament_python my_publisher_subscriber"})]}),"\n",(0,r.jsxs)(s.li,{children:["Create the publisher script in ",(0,r.jsx)(s.code,{children:"my_publisher_subscriber/my_publisher_subscriber/publisher_member_function.py"})]}),"\n",(0,r.jsxs)(s.li,{children:["Create the subscriber script in ",(0,r.jsx)(s.code,{children:"my_publisher_subscriber/my_publisher_subscriber/subscriber_member_function.py"})]}),"\n",(0,r.jsx)(s.li,{children:"Create a setup.py file to make the scripts executable"}),"\n",(0,r.jsxs)(s.li,{children:["Build the package: ",(0,r.jsx)(s.code,{children:"colcon build --packages-select my_publisher_subscriber"})]}),"\n",(0,r.jsxs)(s.li,{children:["Source the environment: ",(0,r.jsx)(s.code,{children:"source install/setup.bash"})]}),"\n",(0,r.jsxs)(s.li,{children:["Run the publisher in one terminal: ",(0,r.jsx)(s.code,{children:"ros2 run my_publisher_subscriber publisher_member_function"})]}),"\n",(0,r.jsxs)(s.li,{children:["Run the subscriber in another terminal: ",(0,r.jsx)(s.code,{children:"ros2 run my_publisher_subscriber subscriber_member_function"})]}),"\n",(0,r.jsx)(s.li,{children:"Observe the communication between nodes"}),"\n",(0,r.jsx)(s.li,{children:"Modify the message content or timing and observe the changes"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"common-pitfalls--debugging-notes",children:"Common Pitfalls & Debugging Notes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Node Names"}),": Ensure unique node names to avoid conflicts"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topic Names"}),": Verify that publisher and subscriber use the same topic names"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Types"}),": Publisher and subscriber must use the same message type"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Timing"}),": In distributed systems, timing can be unpredictable; design systems to be robust to timing variations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Resource Management"}),": Always properly clean up resources in the destroy_node() method"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"summary--key-terms",children:"Summary & Key Terms"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Key Terms:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Node"}),": A process that performs computation in ROS 2"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topic"}),": A named bus over which nodes exchange messages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Publisher"}),": A node that sends messages to a topic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subscriber"}),": A node that receives messages from a topic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message"}),": A data structure that communicates information between nodes"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": A synchronous request-response communication pattern"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Action"}),": An asynchronous communication pattern for long-running tasks"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ROS 2"}),": The Robot Operating System version 2"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"rclpy"}),": Python client library for ROS 2"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"further-reading--citations",children:"Further Reading & Citations"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:['ROS 2 Documentation. (2023). "Concepts: About ROS 2." ',(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Concepts/About-ROS-2.html",children:"https://docs.ros.org/en/humble/Concepts/About-ROS-2.html"})]}),"\n",(0,r.jsx)(s.li,{children:"Quigley, M., Conley, K., & Gerkey, B. (2009). ROS: an open-source Robot Operating System. ICRA Workshop on Open Source Software, 3(3.2), 5."}),"\n",(0,r.jsx)(s.li,{children:"Macenski, S. (2022). Professional Robotics: ROS and ROS2 Development. Apress."}),"\n",(0,r.jsx)(s.li,{children:"Saldanha, D. (2021). ROS Robotics Projects. Packt Publishing."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Define a ROS 2 node and explain its role in the ROS 2 architecture."}),"\n",(0,r.jsx)(s.li,{children:"Compare and contrast the publish-subscribe and request-response communication patterns in ROS 2."}),"\n",(0,r.jsx)(s.li,{children:"What are actions in ROS 2, and when would you use them instead of services or topics?"}),"\n",(0,r.jsx)(s.li,{children:"Describe the Quality of Service (QoS) settings in ROS 2 and their importance."}),"\n",(0,r.jsx)(s.li,{children:"Explain the difference between topics and services in terms of communication timing and use cases."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Previous"}),": ",(0,r.jsx)(s.a,{href:"/docs/physical-ai/sensors-perception",children:"Sensors and Physical Perception"}),(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.strong,{children:"Next"}),": ",(0,r.jsx)(s.a,{href:"/docs/ros2-basics/nodes-topics",children:"ROS 2 Nodes, Topics, Services, and Actions"})]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var i=n(6540);const r={},t=i.createContext(r);function o(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);